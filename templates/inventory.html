<!DOCTYPE html>
<html lang="en">
<head>
    <title>Restaurant Inventory Management</title>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename = 'js/common.js') }}"><</script>
    <script type="text/javascript" src="{{ url_for('static', filename = 'js/inventory.js') }}"><</script>
</head>
<body>
    <div id="main-inventory-section">
        <a href="/reservation">Create new reservation</a>
        <h2>Inventory Panel</h2>

        <div id="flask-messages">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul class="flashes">
                        {% for message in messages %}
                        <li>{{ message }}</li>
                    </ul>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>

        <div id="new-inv-section">
            <h3>Submit new Inventory Window</h3>
            <form id="new-inventory-form">
                <div id="new-inv-form-date">
                    <label for="form-date-mm">Month: </label>
                    <select id="form-date-mm" class="form-date-mm"></select>

                    <label for="form-date-dd">Day: </label>
                    <select id="form-date-dd" class="form-date-dd"></select>

                    <label for="form-date-yyyy">Year: </label>
                    <select id="form-date-yyyy" class="form-date-yyyy"></select>
                </div>
                <br>

                <h3>Inventory Windows</h3>
                <div id="new-inv-windows">
                    <input onclick="dupeWindowForm();" value="Add window" type="button"/>
                    <br>
                    <div class="new-inv-win">
                        Between <select id="form-time-hh" class="form-time-hh"></select>:<select id="form-time-mm" class="form-time-mm"></select>
                        and <select id="form-end-time-hh" class="form-end-time-hh"></select>:<select id="form-end-time-mm" class="form-end-time-mm"></select>
                        I want <select name="form-int-counter" class="form-int-counter"></select> parties every 15 minutes.
                    </div>
<!--                    <br>-->
                </div>
                <input onclick="aggregateInvWindows();" value="agg test" type="button"/>

                <input onclick="submitNewInventory();" id="btn-submit-new-inv" value="Submit" type="button"/>
            </form>
        </div>
        <br>
        <br>
        <div id="curr-inv-section">
            <h3>Current Inventory</h3>
            <input onclick="refreshInventoryDisplay();" id="btn-refresh-invs" value="Refesh Inventory" type="button">

            <!-- todo hide this when empty -->
            <div id="curr-inv-display">
                <table id="curr-inv-tbl">
                    <tr>
                        <th>Inventory ID</th>
                        <th>Max Reservations</th>
                        <th>Current Reservation Count</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
</html>